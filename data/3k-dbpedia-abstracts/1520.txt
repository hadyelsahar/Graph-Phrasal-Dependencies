The Republic of the Rif revolted and declared their independence from Spanish occupation as well as from the Moroccan sultan .
