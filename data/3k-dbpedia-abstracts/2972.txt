Guanajuato is a city and municipality in central Mexico and the capital of the state of the same name .
